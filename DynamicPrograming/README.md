## 동적계획법

- 분할정복기법과 유사
    - 문제를 여러개의 subproblem으로 나눈 후 subproblem 해결하고 그 해답을 이용.
    - subproblem이 독립적이지 않은 경우 반복연산이 많아짐
        - 동적계획법을 이용

### **기억하기(Memoization)**

- **Recursion(Top-Down) + Memoization**
    - **재귀적으로 문제를 해결하면서**
        - 해결한 작은 문제의 해답을 **테이블에 저장**
    - **큰 문제를 해결하면서 이미 해결되었는지를 확인하고**
        - 그 작은 문제가 이미 해결되었는지를 확인하고
            - **해결**되었으면 테이블에 저장된 작은 **문제의 해답을 사용**
            - **그렇지 않다면** recursion으로 문제를 게속 **해결함**
    - **테이블**
        - 초기값 : 문제가 해결되지 않았음을 나타내는 값으로 초기화

### **문제해결 방법**

- **반복연산의 제거(Botto-Up Approach)**
    - 작은 문제부터 시작
    - 작은 문제를 해결 후 테이블에 저장
    - 큰 문제를 해결하면서 작은 문제를 해결할 필요가 있는 경우에는, 테이블에 저장된 값 사용

### 동적계획법으로 해결하는 문제의 형태

- **최적화문제 (Optimization Problem)**
    - **최대** 혹은 **최소**가 되는 해답을 구하는 문제
    
    ex) 동전 교환 문제
    
    - 최소 교환 횟수(최적값)
    - 동전 그룹 (최적값을 가질 때의 해답)

### 동적계획법으로 문제를 해결하는 시나리오

1. **최적의 해답의 구조를 분석**
    1. 최적값 혹은 최적해답을 어떻게 구할 수 있는지를 분석
        1. Working Backward 기법을 이용하여 top-down 방법으로 분석
    
     # Working Foward : 문제를 앞에서부터 점진적으로 풀어나감
    
     # Working Backward : 문제를 뒤에서부터 점진적으로 풀어나감
    
     
    
2. **최적의 해답의 최적값을 재귀식으로 정의**
    1. 위 단계 1에서 Working Backward 기법으로 최적값을 top-down 방식으로 분석하면, 최적값을 재귀식으로 정의 가능
3. **상향식으로 최적값을 계산.**
    1. 단계 2에서 재귀식으로 정의된 최적값을 상향식(botoom-up)으로 계산.
    2. 상향식으로 계산한다는 의미는 가장 작은 데이터에 대한 해답부터 계산하여 점차 큰 데이터의 해답을 계산
    3. 이미 계산한 작은 데이터에 대한 해답은 테이블에 저장해 두고, 필요한 경우네느 다시 계산하지 않고 테이블 값 이용.
4. **최적의 해답계산**
    1. 단계 3에서 최적값을 계산하는 과정, 단계4에서는 최적의 해답을 계산하는 단계
    2. 동전교환문제에서 단계3에서는 최소동전의 개수를 계산하고, 단계4에서 최소개수의 동전그룹을 계산
    3. 단계 4에서 최적의 해답을 계산하기 위해 단계3에서 최적값을 계산하는 과정에서 발생하는 정보를 이용. 이를 위해 단계 3에서 최적값을 계산하는 테이블 이외에 이 정보를 저장하는 테이블을 따로 만들고 테이블에 저장
    4. 단계 4에서 최적의 해답은 단계 3에서 만들어 둔 정보를 이용하여 계산

### 동적계획법 예제

1. **동전교환문제**

서로 다른 단위의 동전이 주어졌을 때, 거스름돈을 교환해 주는 **동전의 조합의 수**를 계산 

 # 단 모든 단위의 동전은 무수히 많다고 가정한다.

- 동전의 종류 : 1원, 2원, 3원
- 거스름 돈 : 4원
    - 교환방법 : 4가지
        - {1,1,1,1,}. {1,1,2}, {2,2},{1,3}

**단계 1. 거스름돈 K원의 조합 방법**

- 동전조합에 Cn 동전이 포함되지 않은 경우
    - ex) 동전조합에 3원 동전이 포함되지 않은 조합
- 동전조합에 Cn원 동전이 적어도 1개 포함된 경우
    - ex) 동전조합에 3원 동전이 적어도 1개 포함되는 조합

**단계 2. 재귀식**

 N(n,K): 거스름돈 k원을 n개의 동전 c1….cn으로 교환하는 동전조합의 수

거스름돈 K원의 동전조합 N(n,K)

- 동전조합에 Cn 동전이 포함되지 않은 경우
    - N(n-1, K)
- 동전조합에 Cn원 동전이 적어도 1개 포함된 경우
    - N(n,K-Cn)

**단계 3. 동전조합의 수 계산**

2차원 배열을 사용

→ N[n][k] : 거스름돈 k원을 n개의 동전 C1,C2….Cn으로 교환하는 동전조합의 수

<img width="736" alt="1" src="https://github.com/junyong1111/CodingTest/assets/79856225/88b57d43-5a46-4936-93da-b24fc8a020d4">

n ⇒ 동전의 종류

K ⇒ 거스름돈

동전 종류 4가지 (1원,2원,3원,5원)

거스름돈 : 7원

해당 셀 계산하는 방법

⇒ 해당 동전(N[i] - K[i](거스름돈)) + 해당 셀 위쪽 값

동전교환 문제

1. 동전의 최소 개수
    1. 최소 개수의 조합
2. 동전의 조합의 총 개수